@page "/login"
@layout BlankLayout


@inject NavigationManager NavigationManager

<PageTitle>Login Page</PageTitle>

<div class="login-page">
    <div class="blur"></div>
    <div class="login-container">
        <img src="img/login-bg.jpg">
        <div class="login-form">
            <h3><b>Log in</b></h3>
            <p class="appName">Layer<b>Hub</b></p>
            <div  OnValidSubmit="LoginAsync">
                <div class="input-container">
                    <div class="input-group mb-3">
                        <span class="input-group-text"><i class="bi bi-person"></i></span>
                        <input type="email" class="form-control" placeholder="E-mail"/>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text"><i class="bi bi-lock"></i></span>
                        <input type="password" class="form-control" placeholder="Password" @onkeyup="e => HitEnter(e)"/>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-success w-100" type="submit">Login</button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private async Task HitEnter(KeyboardEventArgs e)
    {
        if (e.Key == "Enter") 
            await LoginAsync();
    }
    
    private async Task LoginAsync()
    {
       
        NavigationManager.NavigateTo("/", replace: true);
    }
}
